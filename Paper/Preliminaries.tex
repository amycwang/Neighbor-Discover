\section{Preliminaries}
\label{sectionmodel}

%Connectivity model			#lebhar2009unit

In this section, we first describe the network and node model.
Then we formulate the Neighbor Discovery problem formally. 
The notations are listed in Table \ref{notations}.

\begin{table}[!t]
\renewcommand{\arraystretch}{1.3}
\caption{Notations for Neighbor Discovery}
\label{notations}
\centering
\scalebox{0.92}{
\begin{tabular}{|c|c|}
\hline
\bfseries Notation & \bfseries Description\\
\hline
$N$ & The number of nodes in the network\\
\hline
$u_i$ & node $u_i$ with ID $i$ \\
\hline
$u_{ij}$ & the $j^{th}$ neighbor of node $u_i$ \\
\hline
$\delta_{ij}$ & The transmission time drift between $u_i$ and $u_j$ \\
\hline
$n*$ & The average number of neighbors is $n$, $n=p_nN$ \\
\hline
$t_0$ & The length of a time slot \\
\hline
$L(i,j)$ & The discovery latency that node $u_i$ discovers node $u_j$ \\
\hline
$L(i)$ & The discovery latency that node $u_i$ discovers all neighbors \\
\hline
$\theta$ & The pre-defined global duty cycle\\
\hline
$\theta_i$ & Node $u_i$'s local duty cycle\\
\hline
$W$ & The time slot spent by a node discovering all neighbors\\
\hline
$M$ & Neighboring matrix, $M_{ij}=1$ means $u_i$ and $u_j$ are neighbors \\
\hline
\end{tabular}}
\end{table}


\subsection{Network and Node Model}

\textbf{Communication model.} 
We study the neighbor discovery 
problem under the unit-disk model \cite{moscibroda2006complexity, wang2015connectivity}, 
since it is a popular model that enabled the development of efficient algorithms for crucial networking problems, 
and other models such as \emph{SINR} which lacks of good algorithmic features can be transformed to 
it by particular means \cite{lebhar2009unit}.  
In the unit-disk model, two network nodes are directly connected if and only 
if their Euclidean distance is no more than a given threshold based on the received signal strength, 
which is called the transmission range.

\textbf{Network connectivity.} 
In a large-scale network under the unit-disk model, 
each node has a capacity to sense the nodes within its transmission range.
The nodes which can be connected by one-hop communication are called neighbors,
and other nodes can be connected by multi-hop communication.
This wireless network connectivity is defined as \emph{Partially-Connected},
contrary to the fully-connected scenario where all the nodes can communicate with 
each other by one-hop communication.

Multi-hop wireless networks are often modeled as graphs. 
A symmetric matrix $M_{N\times N}$ is used to record the neighboring relations as:
$$ M_{i,j}=\left\{
\begin{aligned}
1  & & & & & & {connected}\\
0  & & & & & & {disconnected}\\
\end{aligned}
\right.
$$

\textbf{Energy-Efficient Networks.} 
In the large-scale networks, 
there is a particular type called \emph{Energy-Efficient Networks}.
A typical one of the energy-efficient networks is the wireless sensor networks.
The wireless sensor network consists of a number of sensors distributed separately in a target area.
The deployed sensor nodes keep their most time in sleep pattern to avoid quick energy consumption 
and wake up timely to work on duty.

\textbf{Network distribution.} 
In a network, the location of the nodes are likely to obey uniform distribution[][],
Gaussian distribution[][] or other combinatorial distributions.
For a certain, the expected number of neighbors  can be calculated  the local network density. 

\textbf{Time model.} 
Time is divided into slots of equal length $t_0$, 
which is sufficient to finish  one communication process
(transmit or receive a piece of package). In each time slot, 
a node transform its pattern according to a pre-defined duty schedule.

\textbf{Node transmission model.} In this paper, we denote the node set in the network as $U = \{u_1,u_2,...,u_N\}$.
When a node wake up in a time slot, it can turn to either the transmitting state or listening state. 
\begin{itemize}
\item \textbf{Transmitting state}. A node turn to transmitting state will broadcast a package containing its own identify 
information to all neighbors.
\item  \textbf{Listening state}. A node turn to listening state will monitor the frequency channel to collect its neighbors' packages.
\end{itemize}
Transiting between the states only costs little time, compared to one complete time slot.

\textbf{Transmission drift.} 
Each node may start their neighbor discovery process 
at different time slots and we denote $\delta_{ij}$ as the asynchronous time drift
between a pair of neighbor nodes ($u_i$, $u_j$). 
$\delta_{ij} = 0$ represents a synchronous case.
   

\textbf{Transmission collision.} 
Under the unit-disk model, collisions will occur 
to a node in its listening state when two or more neighbor nodes 
transmit concurrently and thus no valid information will be gathered.

\begin{definition}
\textbf{Duty Schedule} is a pre-defined sequence $S=\{s^t\}_{0\leq t<T}$ of period $T$ and
$$ s^t=\left\{
\begin{aligned}
S  & & & {Sleep}  	 \\
T  & & & {Transmit}	\\
L  & & & {Listen}	\\
\end{aligned}
\right.
$$
\end{definition}

Note that the sleep state is only for the energy-efficient networks.
Each node construct its own duty schedule according to a specific strategy and repeats it
until finding all the neighbors. 

Since the waking-up duration has a significant affect on the battery's lifetime, 
duty cycle is utilized to restrict the energy consumption in the energy-efficient networks.

\begin{definition}
\textbf{Duty Cycle} represents the fraction of one period T where a node turns its radio on. It can be formulated as:

$$\theta=\frac{|\{t: 0\leq t<T, s^t \in \{T,L\}\}|}{T}.
$$
\end{definition}  

\subsection{Problem Definition}

We consider a large-scale and multi-hop network, 
where two nodes are neighbors if they locate within the radio range of each other. 

Each node follows its duty schedule to achieve neighbor discovery. 
Note that the neighbor discovery process is not bidirectional, which means any pair of neighbors 
need to find each other separately. The time slots within which a node $u_i$ find one of its neighbors $u_j$ can be formulated 
as $L(i,j)$. Then we define the discovery latency that node $u_i$ discovers all neighbors as:
\begin{definition}
\textbf{Discovery Latency} of node $u_i$ is the time to discover all neighbors:
$$L(i) = \max_{j:M_{i,j}=1} L(i,j).
$$
\end{definition}

Thus the neighbor discovery problem can be formulated as:
%@@@to be modified
\begin{problem}
For a node $u_i$ with its neighbor set $S = \{u_{i1},u_{i2},...u_{ij},...\}$, 
design a strategy to construct a duty schedule, which satisfies
$\forall$ neighbor nodes $u_{ij}$ :
$$
\exists t \ s.t. :  \quad
S_i(t) = L ,
S_{ij}(t) = T,
\forall k \neq j : S_{ik}(t) \in \{L, S\}.
$$

\end{problem}
%@@@

\begin{figure}[!h]
\centering
\subfigure[The topology of a simple wireless network]{\includegraphics[width=1.65in]{./Figure/topology.eps}}
\vspace{0.03in}
\subfigure[Neighbor discovery process]{\includegraphics[width=2.8in]{./Figure/NBexample.eps}}
\caption{An example of neighbor discovering process. S, T and L represents Sleep pattern, 
Transmitting state and Listening state in wake-up pattern respectively.}
\label{NDexample}
%\vspace{-0.2in}
\end{figure}

An example of neighbor discovery process is given in Fig.\ref{NDexample}. 
Fig.\ref{NDexample}(a) shows the topology of a simple
wireless network, which consists of $5$ nodes. 
Fig.\ref{NDexample}(b) describes the neighbor discovery process 
in the asynchronous scenario, as we can see the nodes 
start their process at different time slot. 
Duty cycle is set as $0.25$ which implies a node will wake up 
once during a period of four time slots. The duty schedule of 
node $u_1$, for example, is $S_1 = \{ T, S, S, S, S, S, T, S, S, T, S, S, S, T, ... \}$.
The time drift between node $u_1$ and $u_4$ : $\delta_{14} = 1$ while $u_1$ and $u_2$ start their process synchronously.
At time slot $12$, node $u_5$ discovers its neighbor node $u_2$ while node $u_1$ 
could not discover node $u_2$ due to a collision from its another neighbor node $u_3$. 



